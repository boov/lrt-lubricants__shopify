<div class="gradient">
  <div class="password-header">

    {%- if shop.password_message != blank -%}

      <div class="password-content">{{ shop.password_message }}</div>

    {%- endif -%}

    <password-modal>
      <details class="password-modal modal">
        <summary class="modal__toggle" aria-haspopup="dialog">
          <div class="modal__toggle-open password-link link underlined-link">{% render "icon-padlock" %} Enter using password</div>
          <div class="modal__toggle-close" aria-hidden="true">{% render "icon-close" %}</div>
        </summary>
        <div class="modal__content" role="dialog" aria-labelledby="DialogHeading" aria-modal="true">
          <div class="password-modal__content" tabindex="-1">
            <button type="button" class="modal__close-button link" aria-label="Close">{% render "icon-close" %}</button>
            <h2 class="password-modal__content-heading" id="DialogHeading">Enter store using password:</h2>

            {%- form 'storefront_password'
              , class: 'password-form' -%}

              <div class="password-field field{% if form.errors %} password-field--error{% endif %}">

                <input type="password" name="password" id="Password" class="field__input" autocomplete="current-password" {% if form.errors %} aria-invalid="true" aria-describedby="PasswordLoginForm-password-error" {%- endif -%} placeholder="Your password">

                <label class="field__label" for="Password">Your password</label>

                {%- if form.errors -%}

                  <div id="PasswordLoginForm-password-error" role="status">
                    <span class="visually-hidden">Error</span>
                    <span class="form__message">{%- render "icon-error" %} Wrong password!</span>
                  </div>

                {%- endif -%}

              </div>
              <button name="commit" class="password-button button button--outline">Enter</button>

            {%- endform -%}

            <small class="password__footer-text">Are you the store owner?
              <a href="/admin" class="link underlined-link">Log in here</a>
            </small>
          </div>
        </div>
      </details>
    </password-modal>
  </div>
</div>

{% schema %}

  {
    "name": "t:sections.main-password-header.name",
    "settings": [
      {
        "type": "header",
        "content": "t:sections.main-password-header.settings.logo_header.content"
      },
      {
        "type": "paragraph",
        "content": "t:sections.main-password-header.settings.logo_help.content"
      }
    ]
  }

{% endschema %}
